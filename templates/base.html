<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Speech Practice Coach{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              display: ['"Space Grotesk"', 'system-ui', 'sans-serif'],
              body: ['"Manrope"', 'system-ui', 'sans-serif']
            },
            boxShadow: {
              glow: '0 24px 70px rgba(6, 182, 212, 0.22)',
              panel: '0 24px 60px rgba(8, 15, 27, 0.45)'
            }
          }
        }
      };
    </script>
    <style>
      :root {
        color-scheme: dark;
      }
      .app-shell {
        background:
          radial-gradient(1200px 600px at 10% -10%, rgba(6, 182, 212, 0.25), transparent 60%),
          radial-gradient(900px 500px at 90% 10%, rgba(245, 158, 11, 0.2), transparent 60%),
          linear-gradient(160deg, #0b0f14 0%, #0f172a 40%, #111827 100%);
      }
      .texture-overlay {
        background-image: radial-gradient(rgba(148, 163, 184, 0.18) 1px, transparent 1px);
        background-size: 36px 36px;
        opacity: 0.15;
      }
      @keyframes floatIn {
        0% {
          opacity: 0;
          transform: translateY(12px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .fade-in {
        animation: floatIn 0.7s ease-out both;
      }
    </style>
    {% block head_extra %}{% endblock %}
  </head>
  <body class="font-body text-[15px] text-slate-100 antialiased">
    <div class="app-shell relative min-h-screen">
      <div aria-hidden="true" class="pointer-events-none absolute inset-0 texture-overlay"></div>
      <nav class="relative border-b border-white/10 bg-slate-900/70 backdrop-blur-xl">
        <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-4 py-4">
          <a class="font-display text-lg font-semibold tracking-tight text-white" href="{{ url_for('home') }}">Speech Practice Coach</a>
          {% set endpoint = request.endpoint or '' %}
          <div class="flex flex-wrap items-center gap-4">
            <div class="flex flex-wrap items-center gap-3 text-sm">
              <a class="{{ 'text-white' if endpoint == 'home' else 'text-slate-200/80 transition hover:text-white' }}" href="{{ url_for('home') }}">Home</a>
              {% if current_user.is_authenticated %}
              <a class="{{ 'text-white' if endpoint == 'dashboard' else 'text-slate-200/80 transition hover:text-white' }}" href="{{ url_for('dashboard') }}">Dashboard</a>
              {% endif %}
              <a class="{{ 'text-white' if endpoint == 'coach' else 'text-slate-200/80 transition hover:text-white' }}" href="{{ url_for('coach') }}">Speech Coach</a>
              {% if current_user.is_authenticated and current_user.is_admin %}
              <a class="{{ 'text-white' if endpoint == 'admin_users' else 'text-slate-200/80 transition hover:text-white' }}" href="{{ url_for('admin_users') }}">Admin</a>
              {% endif %}
            </div>
            <div class="flex flex-wrap items-center gap-3">
              {% if current_user.is_authenticated %}
              <span class="text-sm text-white/80">Hi, {{ current_user.id }}</span>
              <form method="post" action="{{ url_for('logout') }}">
                <button type="submit" class="inline-flex items-center rounded-xl bg-rose-500 px-3 py-2 text-sm font-semibold text-white transition hover:bg-rose-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-200">Log out</button>
              </form>
              {% else %}
              <a href="{{ url_for('login') }}" class="text-sm font-semibold text-white transition hover:text-cyan-200">Sign in</a>
              <a href="{{ url_for('register') }}" class="inline-flex items-center rounded-xl bg-cyan-500 px-3 py-2 text-sm font-semibold text-slate-900 transition hover:bg-cyan-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-200">Get started</a>
              {% endif %}
            </div>
          </div>
        </div>
      </nav>
      {% block page_wrapper %}
      <main class="fade-in mx-auto w-full max-w-6xl px-4 py-12">
        {% block content %}{% endblock %}
      </main>
      {% endblock %}
    </div>
    {% block scripts %}{% endblock %}
  </body>
</html>
